## 说说你是如何理解TCP的？

### 分层模型

![分层](../../../img/网络/TCP/分层.jpg)

可以看到协议的分层从上往下依次是

- Ethernet II：网络接口层以太网帧头部信息
- Internet Protocol Version 4：互联网层 IP 包头部信息
- Transmission Control Protocol：传输层的数据段头部信息，此处是 TCP 协议
- Hypertext Transfer Protocol：应用层 HTTP 的信息

#### 应用层（Application Layer）

应用层的本质是规定了应用程序之间如何相互传递报文， 以 HTTP 协议为例，它规定了

- 报文的类型，是请求报文还是响应报文
- 报文的语法，报文分为几段，各段是什么含义、用什么分隔，每个部分的每个字段什么什么含义
- 进程应该以什么样的时序发送报文和处理响应报文

####  传输层（Transport Layer）

传输层的作用是为两台主机之间的「应用进程」提供端到端的逻辑通信,虽然是叫传输层，但是并不是将数据包从一台主机传送到另一台，而是对「传输行为进行控制」例如TCP协议提供数据包的重传、流量控制、拥塞控制等。

![TCP](../../../img/网络/TCP/传输层.jpg)

#### 网络互连层（Internet Layer）

网络互连层提供了主机到主机的通信，将传输层产生的的数据包封装成分组数据包发送到目标主机，并提供路由选择的能力.

IP 协议是网络层的主要协议，TCP 和 UDP 都是用 IP 协议作为网络层协议。这一层的主要作用是给包加上源地址和目标地址，将数据包传送到目标地址。

IP 协议是一个无连接的协议，也不具备重发机制，这也是 TCP 协议复杂的原因之一就是基于了这样一个「不靠谱」的协议。

#### 网络访问层（Network Access Layer）

网络访问层也有说法叫做网络接口层，以太网、Wifi、蓝牙工作在这一层，网络访问层提供了**主机连接到物理网络需要的硬件和相关的协议**

#### 分层的好处

- 灵活性高
- 便于测试和维护
- 各层之间独立
- 便于标准化

### 特点

可靠的、面向连接的、基于字节流的双工协议